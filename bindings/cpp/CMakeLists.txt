# libtuntap C++ binding CMakeLists.txt
# ====================================

include_directories(
    ${CMAKE_CURRENT_SOURCE_DIR}/bindings/cpp
)

add_library(tuntap++ SHARED
    ${CMAKE_CURRENT_SOURCE_DIR}/bindings/cpp/tuntap++.cc
    ${CMAKE_CURRENT_SOURCE_DIR}/bindings/cpp/tuntap++.hh
)
set_target_properties(tuntap++ PROPERTIES VERSION 2.1)

add_library(tuntap++-static STATIC
        ${CMAKE_CURRENT_SOURCE_DIR}/bindings/cpp/tuntap++.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/bindings/cpp/tuntap++.hh
)
set_target_properties(tuntap++-static PROPERTIES OUTPUT_NAME "tuntap++")

target_link_libraries(tuntap++ tuntap) 

target_link_libraries(tuntap++-static tuntap)

if(UNIX)
	if(ENABLE_CXX)
		install(TARGETS tuntap++ DESTINATION lib)
		install(FILES ./bindings/cpp/tuntap++.hh DESTINATION include)
		install(TARGETS tuntap++-static DESTINATION lib)
	endif(ENABLE_CXX)
endif(UNIX)
